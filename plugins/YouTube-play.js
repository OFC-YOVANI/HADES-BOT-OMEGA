import _0x3836d4 from'node-fetch';import _0x50965e from'axios';import _0x1ca211 from'yt-search';import{youtubedl,youtubedlv2}from'@bochilteam/scraper';import _0x373bf2 from'fs';let limit1=0x64,limit2=0x190,limit_a1=0x32,limit_a2=0x190;const handler=async(_0x9a2721,{conn:_0x216dc1,command:_0x270930,args:_0x92aeb9,text:_0x1c8e0c,usedPrefix:_0x2f6962})=>{let _0x33b43={'key':{'participants':'0@s.whatsapp.net','remoteJid':'status@broadcast','fromMe':![],'id':'Halo'},'message':{'contactMessage':{'vcard':'BEGIN:VCARD\x0aVERSION:3.0\x0aN:Sy;Bot;;;\x0aFN:y\x0aitem1.TEL;waid='+_0x9a2721['sender']['split']('@')[0x0]+':'+_0x9a2721['sender']['split']('@')[0x0]+'\x0aitem1.X-ABLabel:Ponsel\x0aEND:VCARD'}},'participant':'0@s.whatsapp.net'};if(!_0x1c8e0c)return _0x216dc1['reply'](_0x9a2721['chat'],'*[â—ğˆğğ…ğâ—]\x20Ponga\x20el\x20nombre\x20de\x20su\x20video\x20o\x20musica\x20\x20\x0a\x0a\x20*ejemplo:*\x20\x0a\x20*'+(_0x2f6962+_0x270930)+'\x20miku\x20bot\x20md*',_0x33b43,_0x9a2721);try{_0x216dc1['reply'](_0x9a2721['chat'],''+wait,_0x33b43,_0x9a2721);const _0x8de045=await search(_0x92aeb9['join']('\x20'));let _0x14cd64='';if(_0x270930==='play'||_0x270930=='audio'||_0x270930=='play3'||_0x270930=='playdoc'||_0x270930=='musica'||_0x270930=='sonido')_0x14cd64='audio\x20ğŸ”Š';else(_0x270930==='play2'||_0x270930=='video'||_0x270930=='play4'||_0x270930=='playdoc2'||_0x270930=='peliculas'||_0x270930=='pelis')&&(_0x14cd64='video\x20ğŸ¥');const _0x5a0876=('ä¹‚âœ°\x20Y\x20O\x20U\x20T\x20U\x20B\x20E\x20âœ°ä¹‚\x0aâ‡„\x20\x20\x20\x20â—\x20\x20\x20ã…¤\x20\x20âšâšã…¤\x20\x20\x20â–·ã…¤\x20\x20\x20\x20â†»\x0aä¹‚âœ°\x20Autor:\x20'+_0x8de045[0x0]['author']['name']+'\x20áƒ¦\x0aä¹‚âœ°\x20Published:\x20'+_0x8de045[0x0]['ago']+'\x20áƒ¦\x0aä¹‚âœ°\x20Duration:\x20'+secondString(_0x8de045[0x0]['duration']['seconds'])+'\x20áƒ¦\x0aä¹‚âœ°\x20Views:\x20'+(''+MilesNumber(_0x8de045[0x0]['views']))+'\x20áƒ¦')['trim']();await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'text':_0x5a0876,'contextInfo':{'externalAdReply':{'title':_0x8de045[0x0]['title'],'body':packname,'thumbnailUrl':_0x8de045[0x0]['thumbnail'],'mediaType':0x1,'showAdAttribution':!![],'renderLargerThumbnail':!![]}}},{'quoted':_0x9a2721});if(_0x270930=='play'||_0x270930=='audio'||_0x270930=='musica'||_0x270930=='sonido'){const _0x2de65c='128kbps',_0xcb651d=_0x8de045[0x0]['url'],_0x5acc88=await youtubedl(_0xcb651d)['catch'](async _0x4f16f5=>await youtubedlv2(_0xcb651d)),_0x2566e1=await _0x5acc88['audio'][_0x2de65c]['download'](),_0x20aceb=await _0x5acc88['title'],_0x50e04c=await _0x5acc88?.['size'],_0x4fa7c9=_0x50e04c?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x4467aa=await getBuffer(_0x2566e1),_0x10f3d4=_0x4467aa['byteLength'],_0x26550d=_0x10f3d4/0x400,_0x27bb47=_0x26550d/0x400,_0x4252b0=_0x27bb47['toFixed'](0x2);if(_0x4252b0>=limit_a2)return;if(_0x4252b0>=limit_a1&&_0x4252b0<=limit_a2){await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x4467aa,'mimetype':'audio/mpeg','fileName':_0x20aceb+'.mp3'},{'quoted':_0x9a2721});return;}else{await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'audio':_0x4467aa,'mimetype':'audio/mpeg','fileName':_0x20aceb+'.mp3'},{'quoted':_0x9a2721});return;}}if(_0x270930=='play3'||_0x270930=='playdoc'){const _0x18bf7d='128kbps',_0x173366=_0x8de045[0x0]['url'],_0x50e6d7=await youtubedl(_0x173366)['catch'](async _0x2ea5f3=>await youtubedlv2(_0x173366)),_0x7f2f25=await _0x50e6d7['audio'][_0x18bf7d]['download'](),_0x167059=await _0x50e6d7['title'],_0x879a74=await _0x50e6d7?.['size'],_0x4c3088=_0x879a74?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x1aa451=await getBuffer(_0x7f2f25),_0x4d10d9=_0x1aa451['byteLength'],_0x2651e8=_0x4d10d9/0x400,_0x383cdb=_0x2651e8/0x400,_0x4ab149=_0x383cdb['toFixed'](0x2);if(_0x4ab149>=limit_a2)return;if(_0x4ab149>=limit_a1&&_0x4ab149<=limit_a2){await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x1aa451,'mimetype':'audio/mpeg','fileName':_0x167059+'.mp3'},{'quoted':_0x9a2721});return;}else{await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x1aa451,'mimetype':'audio/mpeg','fileName':_0x167059+'.mp3'},{'quoted':_0x9a2721});return;}}if(_0x270930=='play2'||_0x270930=='video'){const _0x502d29='360',_0x572626=_0x502d29+'p',_0x5723a3=_0x8de045[0x0]['url'],_0x5d23c7=await youtubedl(_0x5723a3)['catch'](async _0x4f4951=>await youtubedlv2(_0x5723a3)),_0x3b99dc=await _0x5d23c7['video'][_0x572626]['download'](),_0x2a2ae5=await _0x5d23c7['title'],_0x21b8c0=await _0x5d23c7?.['size'],_0x261a3d=_0x21b8c0?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x190063=await getBuffer(_0x3b99dc),_0x1d414c=_0x190063['byteLength'],_0x5647e6=_0x1d414c/0x400,_0x3497c1=_0x5647e6/0x400,_0x521e9d=_0x3497c1['toFixed'](0x2);if(_0x521e9d>=limit2)return;if(_0x521e9d>=limit1&&_0x521e9d<=limit2){await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x190063,'mimetype':'video/mp4','fileName':_0x2a2ae5+'.mp4'},{'quoted':_0x9a2721});return;}else{await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'video':_0x190063,'mimetype':'video/mp4','fileName':_0x2a2ae5+'.mp4'},{'quoted':_0x9a2721});return;}}if(_0x270930=='play4'||_0x270930=='playdoc2'||_0x270930=='peliculas'||_0x270930=='pelis'){const _0x24d286='360',_0x23628d=_0x24d286+'p',_0x1a79ea=_0x8de045[0x0]['url'],_0xc78ed5=await youtubedl(_0x1a79ea)['catch'](async _0x5e8564=>await youtubedlv2(_0x1a79ea)),_0x109877=await _0xc78ed5['video'][_0x23628d]['download'](),_0x378ff6=await _0xc78ed5['title'],_0x45d14f=await _0xc78ed5?.['size'],_0x2c176f=_0x45d14f?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x5f41b1=await getBuffer(_0x109877),_0x121984=_0x5f41b1['byteLength'],_0x4d8b56=_0x121984/0x400,_0x57f6ca=_0x4d8b56/0x400,_0x37c064=_0x57f6ca['toFixed'](0x2);if(_0x37c064>=limit2)return;if(_0x37c064>=limit1&&_0x37c064<=limit2){await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x5f41b1,'mimetype':'video/mp4','fileName':_0x378ff6+'.mp4'},{'quoted':_0x9a2721});return;}else{await _0x216dc1['sendMessage'](_0x9a2721['chat'],{'document':_0x5f41b1,'mimetype':'video/mp4','fileName':_0x378ff6+'.mp4'},{'quoted':_0x9a2721});return;}}}catch(_0x2ba274){console['log'](_0x2ba274);throw'*âŒÊŸá´\x20sá´‡É´á´›Éªá´á´s\x20sá´‡\x20Êœá´€\x20É¢á´‡É´á´‡Ê€á´€á´…á´\x20á´œÉ´\x20á´‡Ê€Ê€á´Ê€\x20á´ á´œá´‡ÊŸá´ á´‡\x20ÉªÉ´á´›á´‡É´á´›á´€Ê€âŒ*';}};handler['help']=['play','play2']['map'](_0x3e73cb=>_0x3e73cb+'\x20<\x20busqueda\x20>'),handler['help']=['pla3','play4']['map'](_0x39da0e=>_0x39da0e+'\x20<\x20busqueda\x20>'),handler['tags']=['downloader'],handler['command']=/^(play|play2|play3|play4|audio|video|playdoc2|playdoc|musica|sonido|peliculas|pelis)$/i,handler['register']=!![],handler['premium']=!![];export default handler;async function search(_0x2bea58,_0x199026={}){const _0x2915d2=await _0x1ca211['search']({'query':_0x2bea58,'hl':'es','gl':'ES',..._0x199026});return _0x2915d2['videos'];}function MilesNumber(_0x12ff8f){const _0x4bf308=/(\d)(?=(\d{3})+(?!\d))/g,_0x45fa1b='$1.',_0x359f0b=_0x12ff8f['toString']()['split']('.');return _0x359f0b[0x0]=_0x359f0b[0x0]['replace'](_0x4bf308,_0x45fa1b),_0x359f0b[0x1]?_0x359f0b['join']('.'):_0x359f0b[0x0];}function secondString(_0x289ab3){_0x289ab3=Number(_0x289ab3);const _0x44c2a4=Math['floor'](_0x289ab3/(0xe10*0x18)),_0x5adb20=Math['floor'](_0x289ab3%(0xe10*0x18)/0xe10),_0x1036cd=Math['floor'](_0x289ab3%0xe10/0x3c),_0xb08848=Math['floor'](_0x289ab3%0x3c),_0x5a76cd=_0x44c2a4>0x0?_0x44c2a4+(_0x44c2a4==0x1?'\x20dÃ­a,\x20':'\x20dÃ­as,\x20'):'',_0x93170=_0x5adb20>0x0?_0x5adb20+(_0x5adb20==0x1?'\x20hora,\x20':'\x20horas,\x20'):'',_0x333d76=_0x1036cd>0x0?_0x1036cd+(_0x1036cd==0x1?'\x20minuto,\x20':'\x20minutos,\x20'):'',_0xec9775=_0xb08848>0x0?_0xb08848+(_0xb08848==0x1?'\x20segundo':'\x20segundos'):'';return _0x5a76cd+_0x93170+_0x333d76+_0xec9775;}function bytesToSize(_0x5398bf){return new Promise((_0x4d8de4,_0x188104)=>{const _0x114823=['Bytes','KB','MB','GB','TB'];if(_0x5398bf===0x0)return'n/a';const _0x33f8ba=parseInt(Math['floor'](Math['log'](_0x5398bf)/Math['log'](0x400)),0xa);if(_0x33f8ba===0x0)_0x4d8de4(_0x5398bf+'\x20'+_0x114823[_0x33f8ba]);_0x4d8de4((_0x5398bf/0x400**_0x33f8ba)['toFixed'](0x1)+'\x20'+_0x114823[_0x33f8ba]);});}const getBuffer=async(_0x2ef863,_0x145512)=>{_0x145512?_0x145512:{};const _0x18a50c=await _0x50965e({'method':'get','url':_0x2ef863,'headers':{'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x145512,'responseType':'arraybuffer'});return _0x18a50c['data'];};