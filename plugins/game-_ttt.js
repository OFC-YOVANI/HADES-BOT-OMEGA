import{format}from'util';const debugMode=!0x1,winScore=0x1387,playScore=0x63;export async function before(_0x254d59){let _0x25325d,_0x499bc9=!0x1,_0x45062c=!0x1,_0x5f351a=!0x1;this['game']=this['game']?this['game']:{};const _0x206d40=Object['values'](this['game'])['find'](_0xe3067b=>_0xe3067b['id']&&_0xe3067b['game']&&_0xe3067b['state']&&_0xe3067b['id']['startsWith']('tictactoe')&&[_0xe3067b['game']['playerX'],_0xe3067b['game']['playerO']]['includes'](_0x254d59['sender'])&&_0xe3067b['state']=='PLAYING');if(_0x206d40){if(!/^([1-9]|(me)?nyerah|\rendirse\|rendirse|RENDIRSE|surr?ender)$/i['test'](_0x254d59['text']))return!0x0;_0x5f351a=!/^[1-9]$/['test'](_0x254d59['text']);if(_0x254d59['sender']!==_0x206d40['game']['currentTurn']){if(!_0x5f351a)return!0x0;}debugMode&&_0x254d59['reply']('[DEBUG]\x0a'+require('util')['format']({'isSurrender':_0x5f351a,'text':_0x254d59['text']}));if(!_0x5f351a&&0x1>(_0x25325d=_0x206d40['game']['turn'](_0x254d59['sender']===_0x206d40['game']['playerO'],parseInt(_0x254d59['text'])-0x1)))return _0x254d59['reply']({'-3':'El\x20juego\x20ha\x20terminado','-2':'InvÃ¡lido','-1':'PosiciÃ³n\x20invÃ¡lida','0':'PosiciÃ³n\x20invÃ¡lida'}[_0x25325d]),!0x0;if(_0x254d59['sender']===_0x206d40['game']['winner'])_0x499bc9=!![];else _0x206d40['game']['board']===0x1ff&&(_0x45062c=!![]);const _0x5d75bd=_0x206d40['game']['render']()['map'](_0x5b4b98=>{return{'X':'â','O':'â­•',0x1:'1ï¸âƒ£',0x2:'2ï¸âƒ£',0x3:'3ï¸âƒ£',0x4:'4ï¸âƒ£',0x5:'5ï¸âƒ£',0x6:'6ï¸âƒ£',0x7:'7ï¸âƒ£',0x8:'8ï¸âƒ£',0x9:'9ï¸âƒ£'}[_0x5b4b98];});_0x5f351a&&(_0x206d40['game']['_currentTurn']=_0x254d59['sender']===_0x206d40['game']['playerX'],_0x499bc9=!![]);const _0x4ffb89=_0x5f351a?_0x206d40['game']['currentTurn']:_0x206d40['game']['winner'],_0x4a0b81=('\x0ağŸ®\x20ğ“ğ‘ğ„ğ’\x20ğ„ğ\x20ğ‘ğ€ğ˜ğ€\x20ğŸ®\x0a\x0aâ\x20=\x20@'+_0x206d40['game']['playerX']['split']('@')[0x0]+'\x0aâ­•\x20=\x20@'+_0x206d40['game']['playerO']['split']('@')[0x0]+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d75bd['slice'](0x0,0x3)['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d75bd['slice'](0x3,0x6)['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d75bd['slice'](0x6)['join']('')+'\x0a\x0a'+(_0x499bc9?'@'+(_0x5f351a?_0x206d40['game']['currentTurn']:_0x206d40['game']['winner'])['split']('@')[0x0]+'\x20ğ™¶ğ™°ğ™½ğ™°ğš‚ğšƒğ™´\x20ğŸ¥³,\x20ğšƒğ™´\x20ğ™»ğ™»ğ™´ğš…ğ™°ğš‚\x20+4999\x20ğšğš¡ğš™':_0x45062c?'ğ™´ğ™»\x20ğ™¹ğš„ğ™´ğ™¶ğ™¾\x20ğšƒğ™´ğšğ™¼ğ™¸ğ™½ğ™¾\x20ğ™´ğ™½\x20ğ™´ğ™¼ğ™¿ğ™°ğšƒğ™´\x20ğŸ˜':'ğšƒğš„ğšğ™½ğ™¾\x20ğ™³ğ™´\x20@'+_0x206d40['game']['currentTurn']['split']('@')[0x0])+'\x0a')['trim'](),_0x5f4a38=global['db']['data']['users'];(_0x206d40['game']['_currentTurn']^_0x5f351a?_0x206d40['x']:_0x206d40['o'])!==_0x254d59['chat']&&(_0x206d40[_0x206d40['game']['_currentTurn']^_0x5f351a?'x':'o']=_0x254d59['chat']),_0x206d40['x']!==_0x206d40['o']&&await this['sendMessage'](_0x206d40['x'],{'text':_0x4a0b81,'mentions':this['parseMention'](_0x4a0b81)},{'quoted':_0x254d59}),await this['sendMessage'](_0x206d40['o'],{'text':_0x4a0b81,'mentions':this['parseMention'](_0x4a0b81)},{'quoted':_0x254d59}),(_0x45062c||_0x499bc9)&&(_0x5f4a38[_0x206d40['game']['playerX']]['exp']+=playScore,_0x5f4a38[_0x206d40['game']['playerO']]['exp']+=playScore,_0x499bc9&&(_0x5f4a38[_0x4ffb89]['exp']+=winScore-playScore),debugMode&&_0x254d59['reply']('[DEBUG]\x0a'+format(_0x206d40)),delete this['game'][_0x206d40['id']]);}return!0x0;}